#include <stdio.h>
#include <stdlib.h>

typedef struct{
	char matricula[10];
	char nome[50];
	float n1,n2,n3;
}tAluno;

int main(){
	FILE* arquivo = fopen("alunos.bin","wb");
	tAluno aluno[5];
	int i;
	
	if(arquivo == NULL){
		printf("Erro em criar o Arquivo!\n");
		exit(1);
	}
	else{
		for(i=0;i<5;i++){
			printf("Nome: ");
			scanf(" %s", aluno[i].nome);
			printf("Matricula: ");
			scanf(" %s", aluno[i].matricula);
			printf("Nota 1: ");
			scanf(" %f", &aluno[i].n1);
			printf("Nota 2: ");
			scanf(" %f", &aluno[i].n2);
			printf("Nota 3: ");
			scanf(" %f", &aluno[i].n3);
			printf("\n");
		}
		fwrite(aluno,sizeof(tAluno),5,arquivo);
	}
	
	fclose(arquivo);
	
	return 0;
}


#include <stdio.h>
#include <stdlib.h>

typedef struct{
	char matricula[10];
	char nome[50];
	float n1,n2,n3;
}tAluno;

int main(){
	FILE* arq = fopen("alunos.bin", "rb");
	tAluno aluno[5];
	int i;
	float media=0;
	
	if(arq == NULL){
		printf("Erro na leitura!\n");
		exit(1);
	}
	else{
		fread(aluno,sizeof(tAluno),5,arq);
		for(i=0;i<5;i++){
			printf("Nome: %s\n", aluno[i].nome);
			printf("Matricula: %s\n", aluno[i].matricula);
			media = (aluno[i].n1 + aluno[i].n2 + aluno[i].n3)/3;
			printf("Media: %.1f ", media);
			if(media >= 7)
				printf(" APROVADO\n\n");
			else if(media >= 4 && media < 7)
				printf(" EF\n\n");
			else
				printf(" REPROVADO\n\n");
			media = 0;
		}
	}
	
	fclose(arq);
	
	return 0;
}
